# 🧠 캐시 최적화 보고서

## 📌 개요
현재 여행 플랫폼 시스템은 실시간 날씨 예보와 숙소 정보를 외부 API 및 웹 크롤링으로 수집합니다. 하지만 이 과정은 매 요청마다 외부 서버와의 통신이 발생하여 사용자 경험을 저해하는 지연(latency)이 존재했습니다.  
이에 따라 **캐시 전략을 적용**하여 중복 요청 시 응답 속도를 향상시키고 네트워크 부하를 줄였습니다.

---

## ✅ 적용 대상 및 방법

### 1. 날씨 정보 캐싱 (`weather.py`)

- **대상**: 단기 예보 (0~4일), 중기 예보 (3~10일)
- **캐싱 키**: `(지역명, 날짜)`
- **전략**:
  - `weather_cache` 딕셔너리를 사용한 사용자 정의 캐싱
  - 요청 시 캐시 존재 여부 확인 → 존재 시 바로 반환
  - 존재하지 않을 경우 API 호출 후 캐시 저장

---

### 2. 숙소 정보 캐싱 (`hotel.py`)

- **대상**: 숙소 검색 (지역, 체크인/체크아웃, 인원 수 기반)
- **캐싱 키**: `(지역, 체크인, 체크아웃, 인원)`
- **전략**:
  - `hotel_cache` 딕셔너리를 사용한 캐싱
  - 이미지 파일도 중복 다운로드 방지
  - 타임스탬프 기반 1시간 초과 시 캐시 무효화

---

## 📈 기대 효과

| 항목               | 변경 전 (평균)        | 변경 후 (캐시 hit)    |
|--------------------|------------------------|------------------------|
| 날씨 API 응답 속도 | 약 1.5 ~ 3초           | 약 0.05초              |
| 숙소 크롤링 속도   | 약 2.5 ~ 4초           | 약 0.1초               |
| API 호출 횟수      | 사용자 요청마다 1회     | 최초 1회, 이후 캐시 사용 |
| 네트워크 부하      | 반복 요청으로 과다 사용 | 트래픽 감소 효과        |

---

## 📌 결론 및 제안

캐시 전략 도입으로 시스템 응답 속도와 사용자 체감 성능이 향상되었습니다.

**향후 개선 방향 제안**:
- 시스템 재시작 시 캐시 유지를 위한 파일 기반 캐시(pickle, JSON 등) 도입
- `schedule` 라이브러리를 이용해 주기적 캐시 정리 로직 추가

---

🗂️ 작성일: 2025년 6월 11일  
작성자: 여행 플랫폼 개발자  
